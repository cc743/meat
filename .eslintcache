[{"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/index.js":"1","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/reportWebVitals.js":"2","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/App.js":"3","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/CitySearch.js":"4","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/api.js":"5","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/EventList.js":"6","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/NumberOfEvents.js":"7","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/Event.js":"8","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/mock-data.js":"9"},{"size":500,"mtime":1607638004889,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1607638004889,"results":"12","hashOfConfig":"11"},{"size":2016,"mtime":1608267241942,"results":"13","hashOfConfig":"11"},{"size":1426,"mtime":1608227389299,"results":"14","hashOfConfig":"11"},{"size":2802,"mtime":1608233777109,"results":"15","hashOfConfig":"11"},{"size":398,"mtime":1608067986758,"results":"16","hashOfConfig":"11"},{"size":771,"mtime":1608267247372,"results":"17","hashOfConfig":"11"},{"size":1365,"mtime":1608226958323,"results":"18","hashOfConfig":"11"},{"size":4702,"mtime":1608267541316,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"11unrkm",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/index.js",[],["41","42"],"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/reportWebVitals.js",[],"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/App.js",[],"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/CitySearch.js",[],"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/api.js",["43","44"],"import axios from 'axios';\r\nimport NProgress from 'nprogress';\r\nimport { mockData } from './mock-data';\r\n\r\nexport const extractLocations = (events) => {\r\n  var extractLocations = events.map((event) => event.location);\r\n  var locations = [...new Set(extractLocations)];\r\n  return locations;\r\n};\r\n\r\nconst checkToken = async (accessToken) => {\r\n  const result = await fetch(\r\n    `https://www.googleapis.com/oauth2/v1/tokeninfo?access_token=${accessToken}`\r\n  )\r\n    .then((res) => res.json())\r\n    .catch((error) => error.json());\r\n\r\n  return result;\r\n};\r\n\r\nconst removeQuery = () => {\r\n  if (window.history.pushState && window.location.pathname) {\r\n    var newurl = \r\n      window.location.protocol + \r\n      \"//\" + \r\n      window.location.host + \r\n      window.location.pathname;\r\n    window.history.pushState(\"\", \"\", newurl);\r\n  } else {\r\n    newurl = window.location.protocol + \"//\" + window.locaton.host;\r\n    window.history.pushState(\"\", \"\", newurl);\r\n  }\r\n};\r\n\r\nconst getToken = async (code) => {\r\n  const encodeCode = encodeURIComponent(code);\r\n  const { access_token } = await fetch(\r\n    'https://6vwfp84687.execute-api.us-east-2.amazonaws.com/dev/api/token' + '/' + encodeCode\r\n  )\r\n    .then((res) => {\r\n      return res.json();\r\n    })\r\n    .catch((error) => error);\r\n\r\n  access_token && localStorage.setItem(\"access_token\", access_token);\r\n\r\n  return access_token;\r\n};\r\n\r\nexport const getEvents = async () => {\r\n  NProgress.start();\r\n\r\n  if (window.location.href.startsWith('http://localhost')) {\r\n    NProgress.done();\r\n    return mockData;\r\n  }\r\n\r\n  const token = await getAccessToken();\r\n\r\n  if (token) {\r\n    removeQuery();\r\n    const url = 'https://6vwfp84687.execute-api.us-east-2.amazonaws.com/dev/api/get-events' + '/' + token;\r\n    const result = await axios.get(url);\r\n    if (result.data) {\r\n      var locations = extractLocations(result.data.events);\r\n      localStorage.setItem(\"lastEvents\", JSON.stringify(result.data));\r\n      localStorage.setItem(\"locations\", JSON.stringify(locations));\r\n    }\r\n    NProgress.done();\r\n    return result.data.events;\r\n  }\r\n};\r\n\r\nexport const getAccessToken = async () => {\r\n  const accessToken = localStorage.getItem('access_token');\r\n  const tokenCheck = accessToken && (await checkToken(accessToken));\r\n\r\n  if (!accessToken || tokenCheck.error) {\r\n    await localStorage.removeItem(\"access_token\");\r\n    const searchParams = new URLSearchParams(window.location.search);\r\n    const code = await searchParams.get(\"code\");\r\n    if (!code) {\r\n      const results = await axios.get(\r\n        \"https://6vwfp84687.execute-api.us-east-2.amazonaws.com/dev/api/get-auth-url\"\r\n      );\r\n      const { authUrl } = results.data;\r\n      return (window.location.href = authUrl);\r\n    }\r\n    return code && getToken(code);\r\n  }\r\n  return accessToken;\r\n}\r\n","/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/EventList.js",[],"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/NumberOfEvents.js",[],"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/Event.js",[],"/mnt/c/Users/Carlos/Documents/CareerFoundry/meet/src/mock-data.js",[],["45","46"],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":38,"column":76,"nodeType":"53","messageId":"54","endLine":38,"endColumn":77},{"ruleId":"51","severity":1,"message":"52","line":62,"column":93,"nodeType":"53","messageId":"54","endLine":62,"endColumn":94},{"ruleId":"47","replacedBy":"55"},{"ruleId":"49","replacedBy":"56"},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat",["57"],["58"],"no-global-assign","no-unsafe-negation"]